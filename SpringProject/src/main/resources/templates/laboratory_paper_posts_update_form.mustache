{{>header}}
{{>banner}}
<div class="container-fluid">
    <div class="row mx-4 my-4">

        <!-- 좌측 사이드 메뉴 -->
        <div class="col-xl-2">
            <!-- 연구생 정보 -->
            <div class="row mb-3">
                <div class="col-xl-12">
                    <div class="card border border-dark">
                        <!-- Card Header -->
                        <div class="card-header bg-dark text-white">
                            <h5 class="m-0"><b>연구생 정보</b></h5>
                        </div>

                        <!-- Card Body -->
                        <div class="card-body text-dark">
                            <div><p class="card-text"><strong>이름</strong> : 염동빈</p></div>
                            <div><p class="card-text"><strong>학번</strong> : 2017305045</p></div>
                            <div><p class="card-text"><strong>재학정보</strong> : 4학년</p></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 게시글 검색 빠른메뉴 -->
            <div class="row">
                <div class="col-sm-8 mb-3">
                    <input type="text" class="form-control border-dark" id="searchValue" placeholder="게시글 제목입력">
                </div>
                <div class="col-sm-4 mb-3">
                    <button type="button" class="btn btn-dark btn-block" id="btn-search">검색</button>
                </div>
            </div>

            <!-- 글쓰기 빠른메뉴 -->
            <div class="row mb-3">
                <div class="col-xl-12">
                    <button class="btn btn-dark btn-block" onclick="location.href='/laboratory/paper/posts/form';">글쓰기</button>
                </div>
            </div>

            <!-- 게시판 빠른메뉴 -->
            <div class="row mb-3 mb-xl-0">
                <div class="col-xl-12">
                    <div class="card border border-dark">
                        <!-- Card Header -->
                        <div class="card-header bg-dark text-white">
                            <h5 class="m-0"><b>연구 게시판</b></h5>
                        </div>

                        <!-- Card Body -->
                        <div class="card-body text-dark">
                            <div><a class="card-text text-dark" href="/laboratory/all/board">전체 게시판</a></div>
                            <div><a class="card-text text-dark" href="/laboratory/notice/board">공지 게시판</a></div>
                            <div><a class="card-text text-dark" href="/laboratory/paper/board"><b>논문 게시판</b></a></div>
                            <div><a class="card-text text-dark" href="/laboratory/material/board">자료 게시판</a></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- 우측 게시판 보드 -->
        <div class="col-xl-10">
            <div class="card border border-dark h-100">
                <!-- Card Header -->
                <div class="card-header bg-dark text-white">
                    <h5 class="m-0"><b>논문 게시판</b></h5>
                </div>

                {{#posts}}
                <!-- Card Body -->
                <div class="card-body text-dark">

                    <!-- Category -->
                    <div class="mx-2 mb-2 d-flex">
                        <!-- CategoryName -->
                        <div class="d-inline-block w-25">
                            <select class="form-control" id="categoryName">
                                <option value="">게시판을 선택하세요</option>
                                <option value="공지">공지 게시판</option>
                                <option value="논문">논문 게시판</option>
                                <option value="자료">자료 게시판</option>
                            </select>
                        </div>
                        <!-- ProjectName Collapse Show -->
                        <div class="d-inline-block w-25">
                            <select class="form-control" id="selectProjectName">
                                <option value="">프로젝트를 선택하세요</option>
                                {{#projects}}
                                    <option value="{{projectName}}">{{projectName}}</option>
                                {{/projects}}
                                <option value="direct">- 직접입력 -</option>
                            </select>
                        </div>
                        <!-- ProjectName Collapse -->
                        <div class="w-50" id="projectNameCollapse">
                            <input type="text" class="form-control" id="projectName" disabled placeholder="프로젝트명을 입력하세요">
                        </div>
                    </div>

                    <!-- Title -->
                    <div class="mx-2 mb-2">
                        <input type="text" class="form-control" id="title" placeholder="제목을 입력하세요" value="{{title}}">
                    </div>

                    <!-- Content -->
                    <div class="mx-2 mb-2">
                        <textarea class="form-control" id="content">{{{content}}}</textarea>
                    </div>

                    <!-- Attachment  -->
                    <div class="mx-2 mb-4">
                        <input type="file" class="form-control" id="file" multiple="multiple">
                        <div class="invalid-feedback">Example invalid form file feedback</div>
                    </div>

                    <!-- Hidden Params -->
                    <input type="hidden" class="form-control" id="id" value="{{id}}"/>
                    <input type="hidden" class="form-control" id="author" value="히든작성자"/>
                    <input type="hidden" class="form-control" id="attachment_id" value="0"/>

                    <div class="mx-2 mb-2 text-end">
                        <button type="button" class="btn btn-dark" id="btn-posts-update">저장하기</button>
                    </div>

                </div>
                {{/posts}}
            </div>
        </div>

    </div>
</div>


<script>
    $(document).ready(function () {
        $("#projectName").val("{{posts.projectName}}").prop("selected", true)
        $("#categoryName").val("{{posts.categoryName}}").prop("selected", true)
    });

    $(document).ready(function () {
        $("#projectName").hide();
        $("#selectProjectName").change(function () {
            if ($("#selectProjectName").val() == "direct") {
                $("#projectName").show();
                $("#projectName").val('');
                $("#projectName").attr("disabled", false);
            } else {
                $("#projectName").hide();
                $("#projectName").val($(this).text());
                $("#projectName").attr("disabled", true);
            }
        })
    })

    $(document).ready(function() {
        $('#content').summernote({
            height: 500,
            minHeight: null,
            maxHeight: null,
            focus: true,
            lang: "ko-KR",
            placeholder: '내용을 입력하세요'
        });
    });
</script>
{{>footer}}