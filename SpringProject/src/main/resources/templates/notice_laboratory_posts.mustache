{{>header}}
{{>banner}}
<div class="container-fluid">
    <div class="row mx-4 my-4">

        <!-- 좌측 사이드 메뉴 -->
        <div class="col-xl-2">
            <!-- 연구생 정보 -->
            <div class="row mb-3">
                <div class="col-xl-12">
                    <div class="card border border-dark">
                        <!-- Card Header -->
                        <div class="card-header bg-dark text-white">
                            <h5 class="m-0"><b>연구생 정보</b></h5>
                        </div>

                        <!-- Card Body -->
                        <div class="card-body text-dark">
                            <div><p class="card-text"><strong>이름</strong> : 염동빈</p></div>
                            <div><p class="card-text"><strong>학번</strong> : 2017305045</p></div>
                            <div><p class="card-text"><strong>재학정보</strong> : 4학년</p></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 게시글 검색 빠른메뉴 -->
            <form method="GET" action="/notice/laboratory/board">
                <div class="row">
                    <div class="col-sm-8 mb-3">
                        <input type="text" class="form-control border-dark" name="searchValue" placeholder="게시글 제목입력">
                    </div>
                    <div class="col-sm-4 mb-3">
                        <button type="submit" class="btn btn-dark btn-block me-4">검색</button>
                    </div>
                    <input type="hidden" class="form-control" name="searchFilter" value="title"/>
                </div>
            </form>

            <!-- 글쓰기 빠른메뉴 -->
            <div class="row mb-3">
                <div class="col-xl-12">
                    <button class="btn btn-dark btn-block" onclick="location.href='/notice/all/posts/form';">글쓰기</button>
                </div>
            </div>

            <!-- 게시판 빠른메뉴 -->
            <div class="row mb-3 mb-xl-0">
                <div class="col-xl-12">
                    <div class="card border border-dark">
                        <!-- Card Header -->
                        <div class="card-header bg-dark text-white">
                            <h5 class="m-0"><b>공지사항</b></h5>
                        </div>

                        <!-- Card Body -->
                        <div class="card-body text-dark">
                            <div><a class="card-text text-dark" href="/notice/all/board">전체 공지사항</a></div>
                            <div><a class="card-text text-dark" href="/notice/normal/board">일반 공지사항</a></div>
                            <div><a class="card-text text-dark" href="/notice/lecture/board">수업 공지사항</a></div>
                            <div><a class="card-text text-dark" href="/notice/laboratory/board"><b>연구 공지사항</b></a></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        {{#posts}}
        <!-- 우측 게시판 보드 -->
        <div class="col-xl-10">
            <!-- Posts Content -->
            <div class="card shadow mb-4 border border-dark bg-light">
                <!-- Card Header -->
                <div class="card-header bg-dark text-white">
                    <h5 class="m-0"><b>연구 공지사항</b></h5>
                </div>

                <!-- Card Body -->
                <div class="card-body text-dark d-flex justify-content-between align-items-end">
                    <div class="d-inline-block">
                        <h6 class="card-title" style="color: gray">[{{categoryName}}]</h6>
                        <h4 class="card-title">{{title}}</h4>
                    </div>
                    <div class="d-inline-block">
                        <div class="text-end"><small style="color: #6c757d">조회수 {{hits}}</small></div>
                        <div class="text-end"><strong style="color: #6c757d">작성자: {{author}}</strong></div>
                        <div class="text-end"><small style="color: #6c757d">작성일 {{createdDate}}</small></div>
                    </div>


                </div>

                <!-- Card Footer -->
                <div class="card-footer text-dark" style="min-height: 500px">
                    <p class="card-text">{{{content}}}</p>
                </div>

                <!-- Card Footer -->
                <div class="card-footer text-dark">
                    <div class="mb-2 text-start">
                        <strong>첨부파일</strong>
                        {{#attachments}}
                            <div class="d-flex justify-content-between">
                                <div class="d-inline-block">
                                    <a class="text-dark" href="/notice/laboratory/posts/{{posts.id}}/download/{{id}}"
                                       onclick="return confirm('파일을 다운로드하시겠습니까?')"><u>[다운로드]</u>&nbsp;</a>
                                    <a class="text-dark" href="/notice/laboratory/posts/{{posts.id}}/download/{{id}}"
                                       onclick="return confirm('파일을 다운로드하시겠습니까?')"><u>{{fileName}}</u></a>
                                </div>
                                <div class="d-inline-block">{{fileSize}}</div>
                            </div>
                        {{/attachments}}
                    </div>
                    <div class="mb-2 text-end">
                        <!-- 수정 / 삭제 : 권한 있는 사람한테만 보이도록 -->
                        <button type="submit" class="btn btn-primary" onclick="location.href='/notice/laboratory/posts/update/{{id}}';">수정</button>
                        <button type="button" class="btn btn-danger" id="btn-posts-delete">삭제</button>
                    </div>
                </div>

            </div>
            {{/posts}}


            <!-- Posts Comments -->
            <div class="card shadow border border-dark bg-light mb-4">
                <!-- Card Header -->
                <div class="card-header bg-dark text-white">
                    <h5 class="m-0"><b>댓글 {{commentsSize}}</b></h5>
                </div>

                <!-- Card Body -->
                <div class="card-body text-dark">
                    <ul class="list-group bg-light">
                        {{#comments}}
                        <li class="list-group-item">
                            <div class="d-flex justify-content-between">
                                <div class="d-inline-block">
                                    <strong>{{author}}&nbsp;</strong>
                                    <small>{{createdDate}}&nbsp;</small>
                                </div>
                                <div class="d-inline-block">
                                    <small><a class="text-dark" style="color: gray" href="#" data-bs-toggle="collapse" data-bs-target="#comments-update-form-{{id}}">수정</a></small>
                                    <small>/</small>
                                    <small><a class="text-dark" style="color: gray" href="#" id="btn-comments-delete">삭제</a></small>
                                </div>
                            </div>

                            <!-- Collapse Show Content -->
                            <div class="collapse show" id="comments-update-form-{{id}}">
                                {{content}}
                            </div>

                            <!-- Collapse Update Form -->
                            <div class="collapse" id="comments-update-form-{{id}}">
                                <!-- Hidden Param -->
                                <input type="hidden" class="form-control" id="commentsId" value="{{id}}">

                                <div class="mb-3 text-start">
                                    <textarea class="form-control" rows="3" id="updateContent" placeholder="댓글을 작성해보세요">{{{content}}}</textarea>
                                </div>

                                <div class="mb-0 text-end">
                                    <button type="button" class="btn btn-dark text-end" data-bs-toggle="collapse" data-bs-target="#comments-update-form-{{id}}">취소</button>
                                    <button type="button" class="btn btn-dark text-end" id="btn-comments-update">수정</button>
                                </div>
                            </div>

                        </li>
                        {{/comments}}
                    </ul>
                </div>

            </div>

            <!-- Input Comments -->
            <div class="card shadow border border-dark bg-light mb-4">
                <div class="card-body text-dark">
                    <div class="mb-3 text-start">
                        <textarea class="form-control" rows="3" id="content" placeholder="댓글을 작성해보세요"></textarea>
                    </div>
                    <div class="mb-0 text-end">
                        <button type="button" class="btn btn-dark text-end" id="btn-comments-save">등록</button>
                    </div>
                </div>
            </div>

            <!-- Hidden Param -->
            <input type="hidden" class="form-control" id="author" value="히든작성자"/>
            <input type="hidden" class="form-control" id="postsId" value="{{posts.id}}">

        </div>

    </div>
</div>


{{>footer}}